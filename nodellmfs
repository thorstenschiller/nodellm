const { Document, VectorStoreIndex, Settings, Groq } = require('llamaindex');

// Load text content from a file
const fs = require('fs');
const filePath = 'https://waitgpt.de/longtextx.txt';
const textContent = fs.readFileSync(filePath, 'utf-8');

// Create document from text content
const document = new Document({ text: textContent, id_: 'my_text_file' });

// Create index from document
const index = VectorStoreIndex.fromDocuments([document]);

// Get query engine from the index
const queryEngine = index.asQueryEngine();

// Perform a query
const query = "Wie warten?";
queryEngine.query({ query }).then(response => {
    const assistantResponse = response.response;
    console.log(assistantResponse);
}).catch(error => {
    console.error('Error performing query:', error);
});
